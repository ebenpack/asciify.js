<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <canvas id="foo"></canvas>
    <img id="source" src="taco_man.jpg">
    <script src="asciify.js"></script>
    <div id="bar"></div>
    <script>
        var canvas = document.getElementById('foo');
        var image = document.getElementById("source");
        var width = canvas.width = image.width;
        var height = canvas.height = image.height;
        var ctx = canvas.getContext('2d');
        ctx.drawImage(image, 0, 0);
        var raw_imageData = ctx.getImageData(0, 0, width, height);
        //ctx.clearRect(0, 0, width, height);
        var ascii = asciify(
            raw_imageData.width,
            raw_imageData.height,
            width,
            height,
            ctx,
            10,
            true,
            0
        );
        var start = performance.now()
        ascii.draw(raw_imageData.data);
        //ascii.draw2(raw_imageData.data);
        var end = performance.now()
        document.getElementById('bar').innerHTML = ((end - start) / 1000) + 's'
    </script>
</body>
</html>